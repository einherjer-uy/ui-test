<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--see http://getbootstrap.com/css/-->
    <title>Twitter - Corporate Events Tracking System</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" media="screen">    
    <link rel="stylesheet" href="../public/css/tt.css" media="screen">    
    <link rel="stylesheet" href="../public/css/bootstrap-datetimepicker.min.css" media="screen" >
    
</head>
<body class="tt-body">

	<div class="navbar navbar-inverse navbar-static-top tt-navbar">
		<div class="navbar-inner">
			<div class="container">
				<a class="brand" href="http://www.twitter.com">
					<span class="tt-icon tt-bird"></span>
				</a>
				<ul class="nav pull-right">
					<li><a id="logoutLink" class="tt-inverse-text" href="/logout">Logout</a></li>
				</ul>				
			</div>
		</div>
	</div>

	<section id="ttApp" class="container well">
		<header id="header">
			<h1>Tickets</h1>
		</header>
		
		<section id="progress">			
			<div class="progress progress-striped active" style="width: 25%">
				<div id="ticket-progress" class="progress-bar" role="progressbar" style="width: 100%">
					<div class="bar" style="width: 100%"></div>
				</div>
			</div>
		</section>

		<section id="main">
			<div class="alert-container" id="dashboardMessages"></div>
			<table id="ticketTable" class="table table-striped table-hover" style="display:none;">
				<thead>
					<tr>
						<th>Id</th>
						<th>Description</th>
						<th>Type</th>
						<th>Priority</th>
						<th>Due date</th>
						<th colspan="4">Status</th>					
					</tr>
				</thead>
			</table>
			<footer id="tableFooter"></footer>
			<a id="addButton" class="btn btn-primary btn-small pull-right">Create new ticket</a>
			<!-- Add/Edit ticket modal -->
			<div class="modal fade" id="addEditModal"></div>
		</section>
		
	</section>


	<!--Template for the tickets table-->
	<script type="text/template" id="item-template">
        <td>{{ number }}</td>
        <td>{{ description }}</td>
        <td>{{ type }}</td>
        <td>{{ priority }}</td>
        <td>{{ due }}</td>
        <td>{{ status }}</td>
        <td width="160px">
        	<div id="actions"></div>
		</td>
	</script>

	<script type="text/template" id="actions">
		<span id="actionView" title="View" class="glyphicon glyphicon-search tt-action"></span>
        <span id="actionEdit" title="Edit" class="glyphicon glyphicon-pencil tt-action"></span>
		<span id="actionCancel" title="Cancel" class="glyphicon glyphicon-remove tt-action"></span>
		<span id="actionReject" title="Reject" class="glyphicon glyphicon-thumbs-down tt-action"></span>
		<span id="actionApprove" title="Approve" class="glyphicon glyphicon-thumbs-up tt-action"></span>
		<span id="actionDone" title="Mark as Done" class="glyphicon glyphicon-ok tt-action"></span>
	</script>

	<script type="text/template" id="footer-template">
		<div><!--
			{{ test }}
			-->
		</div>
	</script>

    <script type="text/template" id="modal-template">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">Add / Edit Ticket</h4>
			</div>
			<div class="modal-body" id="ticket-modal-body">
			
				<form class="form-horizontal" >

					<div class="alert-container" id="ticket-alert-container"></div>

					<div class="control-group" >
				    	<label class="control-label hidden-phone" for="type" title="This field is mandatory">Type<font color="red">*</font></label>				    	
				    	<div class="controls">
							<select id="type" placeholder="Type" value={{type}}></select>
				    	</div>						    		    	
				  	</div>	

					<div class="control-group" >
				  		<label class="control-label hidden-phone" for="priority" title="This field is mandatory">Priority<font color="red">*</font></label>
				    	<div class="controls">
							<select id="priority" placeholder="Priority" value={{priority}}></select>
				    	</div>
				    </div>				  	

					<div class="control-group">
						<label class="control-label hidden-phone" for="due">Due Date</label>
						<div class="controls">
							<div id="duedate-datetimepicker" class="input-append date">
								<input type="text" date-format="dd/MM/yyyy-hh:mm" id="due" placeholder="Due Date" value={{due == null ? "" : due}}></input>
								<span class="add-on"><i data-time-icon="icon-time" data-date-icon="icon-calendar"></i></span>
							</div>
						</div>					
					</div>
					
					<div class="control-group">
				    	<label class="control-label hidden-phone" for="description" title="This field is mandatory">Description<font color="red">*</font></label>
				    	<div class="controls">
							<textarea id="description" rows="6" placeholder="Description">{{description}}</textarea>
				    	</div>
				  	</div>

				  	<div id="actions" class="control-group"></div>
	   			 </form>		
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
				<button type="button" id="saveButton" class="btn btn-primary">Save changes</button>
			</div>
		</div><!-- /.modal-content -->
	</script>

	<!-- jQuery -->
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

	<!-- Date-Time Picker -->
	<script src="../public/js/utils//bootstrap-datetimepicker.min.js"></script>    

    <!-- Backbone -->
	<script src="http://documentcloud.github.com/underscore/underscore-min.js"></script>
	<script>
		_.templateSettings = { interpolate : /\{\{(.+?)\}\}/g }; //use {{ }} instead of <%= %> in underscore templates
	</script>
	<script src="http://documentcloud.github.com/backbone/backbone-min.js"></script>
	
	<!-- Bootstrap -->
	<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

	<!-- Our app -->
	<script src="../public/js/models/ticket.js"></script>
	<script src="../public/js/collections/tickets.js"></script>
	<script src="../public/js/views/ticket.js"></script>
	<script src="../public/js/views/actions.js"></script>
	<script src="../public/js/views/ticketRow.js"></script>
	<script src="../public/js/views/app.js"></script>
	<script src="../public/js/routers/router.js"></script>
	<script src="../public/js/util.js"></script>
	<script src="../public/js/app.js"></script>
</body>
</html>